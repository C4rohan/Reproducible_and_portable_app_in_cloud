## Reproduce: reproduce existing execution with RPAC

The [reproduce](../reproduce) folder includes the pipeline file that generated by RPAC. RPAC toolkit will execute big data analytics in cloud based on all files in this folder.

We use CloudRetrievalViaDask application in AWS Cloud as the tutorial example.

After an application has been executed, clients can reproduce it with its execution history. We put an example in our public S3 bucket `s3://reproduceexampleofrpac`. Our RPAC toolkit helps the client generate a pipeline file based on their preferences. 

> For example, in execution history as the figure shown, users enable to retrieval the source dataset, command line, pipeline file and execution events (reproducibility_config) from recorded storage addresses (scroll down to find more attributes.).
<p align="center"><img src="./figures/db_item.png"/></p>
<p align="center"><img src="./figures/s3_logs.png"/></p>

1. Follow the address in execution history as shown in the figure, download all execution history files from storage folder (s3://reproduceexampleofrpac/e4bc06ff-603d-4416-899c-b217802efb19/). As example, we provided an downloaded folder in [ExecutionHistory](../ExecutionHistory).

2. Provide user personal information in `./ConfigTemplate/personal.ini`. 

### Reproduction with the same environment and configuration

3. Run `main.py` with `--execution_history` args (for example `python3 main.py --execution_history e4bc06ff-603d-4416-899c-b217802efb19`) to start RPAC reproduction. With user-provided personal information and historical execution, a new pipeline will be generated in `./reproduce` folder. RPAC will automatically start data analytics based on this folder.

### Reproduction in a different environment

3. Provide new environment setup in `./ConfigTemplate/resource.ini` (mostly INSTANCE_TYPE and instance_num). 

4. Run `main.py` with `--execution_history` args.

### Reproduction with a different application configuration

3. Provide new application setup in `./ConfigTemplate/application.ini`.

4. Run `main.py` with `--execution_history` args.

### Reproduction across clouds

(To be updated.)
